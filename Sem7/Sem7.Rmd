---
title: "Seminar 7"
author: "\\newline Zhdankina Margarita, Kolesnikova Victoria, Romanov Sergey"
output: 
  pdf_document:
    latex_engine: xelatex
    toc: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r include=FALSE}
suppressPackageStartupMessages(library(coda))
suppressPackageStartupMessages(library(RColorBrewer))
suppressPackageStartupMessages(library(sna))
suppressPackageStartupMessages(library(knitr))
suppressPackageStartupMessages(library(igraph))
```


```{r eval=FALSE, include=FALSE}
SWFile <- "/SouthernWomen/SouthernWomen.tsv"
```

```{r eval=FALSE, include=FALSE}
SWFilePath <- paste(wd, SWFile, sep = "")
```

```{r eval=FALSE, include=FALSE}
SWrawdata<-read.table(SWFilePath, sep = "\t", header = TRUE, row.names = 1)
SWrawdata
```
# Assignment task 1

In your Seminar 7 folder, there is another file with data, HiTech. Create the code that will do the following:

- Create a directory that will consist of a working directory name and the HiTech folder name, so that it opens the HiTech folder.

- Create file paths to separate data files "GivesAdviceTo," "IsFriendOf," "ReportsTo," and "HiTechAtt.""

```{r}
wd<-getwd()
```


```{r}
HTFile1 <- "/HiTech/HiTech - GivesAdviceTo.tsv"
HTFilePath1 <- paste(wd, HTFile1, sep = "")
GivesAdviceTo<-read.table(HTFilePath1, sep = "\t", header = TRUE, row.names = 1)
head(GivesAdviceTo)

HTFile2 <- "/HiTech/HiTech - IsFriendOf.tsv"
HTFilePath2 <- paste(wd, HTFile2, sep = "")
IsFriendOf<-read.table(HTFilePath2, sep = "\t", header = TRUE, row.names = 1)
head(IsFriendOf)

HTFile3 <- "/HiTech/HiTech - ReportsTo.tsv"
HTFilePath3 <- paste(wd, HTFile3, sep = "")
ReportsTo<-read.table(HTFilePath3, sep = "\t", header = TRUE, row.names = 1)
head(ReportsTo)

HTFile4 <- "/HiTech/HiTech - HiTechAtt.tsv"
HTFilePath4 <- paste(wd, HTFile4, sep = "")
HiTechAtt<-read.table(HTFilePath4, sep = "\t", header = TRUE, row.names = 1)
head(HiTechAtt)
```

# Assignment task 2

Using the plotting function in igraph, improve my graph for the SouthernWomen data by changing at least three characteristics of the graph.

# Assignment task 3

Display the contents of the Women.only and Events.only matrices we created above.

- Explain what data in these matrices mean.

- What are the benefits and problems with separating incidence matrices and creating adjacency matrices out of them?

The matrix with the data about women (Women.only) represents the information about the possibility that women were at the same parties. We can say that this matrix reflects the fact of co-presence at the events. The women can be perceived as nodes in the future network, and the events - as ties.

The matrix with the data about events (Events.only) contains information about the relationship of events to each other. It turns out that for this matrix, the ties will be the women who attended the events, and the events themselves are the nodes of the future network, based on this matrix.


Benefits of adjacency matrices:
By separating the matrices, we can take a closer look at the various indicators, in this case, the connection between the participants of events and the events themselves. For example, with the separation of matrices, both the connection between people and between events becomes more evident, as they are observed separately from each other.

Problems of adjacency matrices:
By separating information about people and events, it becomes difficult to tell exactly how and where event participants are likely to meet. Thus, it is possible to know that some people are connected (or that they were ontook part in the same events), but information about which events brought them together is missed. In the same way, information is lost for events. You can trace that they are somehow connected, but which people unite particular events by their presence at them remains questionable.






# Assignment task 4

For the network SouthernWomen, please calculate the following network characteristics and briefly explain what they mean:

- Indegree, outdegree, total degree;

- Centrality: degree, betweenness, closeness, eigenvector, page rank; correlations between these measures. 

- Transitivity.


```{r}
degree <- data.frame(row.names = V(SWnet.sep$proj1)$name,
                    T_degree = degree(SWnet.sep$proj1, mode ="total"),
                    O_degree = degree(SWnet.sep$proj1, mode= "out"), 
                    I_degree = degree(SWnet.sep$proj1, mode= "in"))
                         
                         
kable(degree, row.names=T, label="Degrees")                         
```
As our network is made undirected all types of degree are equal to each other. Theresa is has the biggest degree centralites. 

```{r}
centralities <- data.frame(row.names = V(SWnet.sep$proj1)$name,
                         degree = degree(SWnet.sep$proj1),
                         betweenness = betweenness(SWnet.sep$proj1),
                         closeness =  closeness(SWnet.sep$proj1),
                         eigenvector = evcent(SWnet.sep$proj1)$vector,
                         page_rank = page_rank(SWnet.sep$proj1)$vector)
                         
                         
kable(centralities, row.names=T, label="Southern Women Centrality")                         
```
While Olivia and Flora are the highest in betweenness and closeness centralities, Therersa is leading in eigen and page rank figures.With regard to the least numbers, the belong to the same nodes but vise versa: Theresa is smallest in  betweenness and closeness, and Olivia and Flora are in eigen and page rank.

```{r}
cor(centralities)                       
```
Because degree, page_rank and eigen vector are computed without pathways they negatively correlate with betweenness and
closeness centrality. 

```{r}
transitivity(SWnet.sep$proj1)
```
As we can see, Southern Women Network is almost fully transitive. 
